(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d5678bc0"],{"0bbd":function(t,e,a){"use strict";var o=a("5cec"),i=a.n(o);i.a},"40a3":function(t,e,a){t.exports=a.p+"img/upload.644d9370.jpg"},"5cec":function(t,e,a){},"9fd7":function(t,e,a){"use strict";var o=a("bc8c"),i=a.n(o);i.a},bc8c:function(t,e,a){},c09d:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"audit"}},[o("page-header-wrapper",{scopedSlots:t._u([{key:"content",fn:function(){return[t._v(" 新建店铺信息 ")]},proxy:!0}])},[o("a-card",{attrs:{bordered:!1}},[o("a-steps",{staticClass:"steps",attrs:{current:t.currentTab}},[o("a-step",{attrs:{title:"填写店铺信息"}}),o("a-step",{attrs:{title:"确认店铺信息"}}),o("a-step",{attrs:{title:"完成"}})],1),o("div",[t.isHide&&0==t.isHidea?o("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[o("a-form-model",{ref:"foda",attrs:{model:t.foda,"label-col":t.labelCol,"wrapper-col":t.wrapperCol,rules:t.rules}},[o("a-form-model-item",{attrs:{label:"店铺名称",prop:"shopName"}},[o("a-input",{model:{value:t.foda.shopName,callback:function(e){t.$set(t.foda,"shopName",e)},expression:"foda.shopName"}})],1),o("a-form-model-item",{attrs:{label:"店铺类型",prop:"shopType"}},[o("a-input",{attrs:{placeholder:"int类型"},model:{value:t.foda.shopType,callback:function(e){t.$set(t.foda,"shopType",e)},expression:"foda.shopType"}})],1),o("a-form-model-item",{attrs:{label:"地址"}},[o("a-input",{model:{value:t.foda.address,callback:function(e){t.$set(t.foda,"address",e)},expression:"foda.address"}})],1),o("a-form-model-item",{attrs:{label:"公司ID"}},[o("a-input",{model:{value:t.foda.companyId,callback:function(e){t.$set(t.foda,"companyId",e)},expression:"foda.companyId"}})],1),o("a-form-model-item",{attrs:{label:"经营类型"}},[o("a-select",{staticStyle:{width:"200px"},attrs:{size:t.size,value:t.type},on:{change:t.typeTreea}},t._l(t.typeShop,(function(e,a){return o("a-select-option",{key:a},[t._v(" "+t._s(e.type)+" ")])})),1)],1),o("a-form-model-item",{attrs:{label:"Logo"}},[o("div",{staticClass:"ant-upload-preview ant-upload ant-upload-select ant-upload-select-picture-card",on:{click:function(e){return t.$refs.upimg.edit(1)}}},[t.preview?o("img",{staticStyle:{height:"100px",width:"100px"},attrs:{src:t.foda.logo}}):o("img",{staticStyle:{height:"50px",width:"50px","margin-top":"25%"},attrs:{src:a("40a3")}})]),o("HeadCut",{ref:"upimg",on:{ok:t.setavatar}})],1),o("a-form-model-item",{attrs:{label:"描述"}},[o("a-input",{model:{value:t.foda.description,callback:function(e){t.$set(t.foda,"description",e)},expression:"foda.description"}})],1)],1),o("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[o("a-button",{attrs:{type:"primary"},on:{click:t.nextStep}},[t._v("下一步")])],1)],1):t._e(),t.isHide||1!=t.isHidea?t._e():o("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[o("a-form-model",{ref:"foda",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.foda}},[o("a-form-model-item",{attrs:{label:"店铺名称"}},[t._v(" "+t._s(t.foda.shopName)+" ")]),o("a-form-model-item",{attrs:{label:"店铺类型"}},[t._v(" "+t._s(t.foda.shopType)+" ")]),o("a-form-model-item",{attrs:{label:"地址"}},[o("a-input",{model:{value:t.foda.address,callback:function(e){t.$set(t.foda,"address",e)},expression:"foda.address"}})],1),o("a-form-model-item",{attrs:{label:"公司ID"}},[o("a-input",{model:{value:t.foda.companyId,callback:function(e){t.$set(t.foda,"companyId",e)},expression:"foda.companyId"}})],1),o("a-form-model-item",{attrs:{label:"Logo"}},[o("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.foda.logo}})]),o("a-form-model-item",{attrs:{label:"描述"}},[t._v(" "+t._s(t.foda.description)+" ")])],1),o("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[o("a-button",{attrs:{type:"primary"},on:{click:t.nextStepa}},[t._v("下一步")]),o("a-button",{staticStyle:{"margin-left":"8px"},on:{click:t.prevStep}},[t._v("上一步")])],1)],1),t.isHide&&2==t.isHidea?o("a-form",{staticStyle:{"max-width":"500px",margin:"40px auto 0"}},[o("a-result",{staticStyle:{"max-width":"560px",margin:"40px auto 0"},attrs:{title:"添加成功","is-success":!0}},[o("a-form-model",{ref:"foda",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.foda}},[o("a-form-model-item",{attrs:{label:"店铺名称"}},[t._v(" "+t._s(t.foda.shopName)+" ")]),o("a-form-model-item",{attrs:{label:"店铺类型"}},[t._v(" "+t._s(t.foda.type)+" ")]),o("a-form-model-item",{attrs:{label:"地址"}},[o("a-input",{model:{value:t.foda.address,callback:function(e){t.$set(t.foda,"address",e)},expression:"foda.address"}})],1),o("a-form-model-item",{attrs:{label:"公司ID"}},[o("a-input",{model:{value:t.foda.companyId,callback:function(e){t.$set(t.foda,"companyId",e)},expression:"foda.companyId"}})],1),o("a-form-model-item",{attrs:{label:"Logo"}},[o("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:t.foda.logo}})]),o("a-form-model-item",{attrs:{label:"描述"}},[t._v(" "+t._s(t.foda.description)+" ")])],1),o("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[o("a-button",{attrs:{type:"primary"},on:{click:t.finish}},[t._v("已完成,点我返回")])],1)],1)],1):t._e()],1),o("div",{staticClass:"step-form-style-desc"},[o("h3",[t._v("说明")]),o("h4",[t._v("转账到支付宝账户")]),o("p",[t._v(" 如果需要，这里可以放一些关于产品的常见问题说明。如果需要，这里可以放一些关于产品的常见问题说明。如果需要，这里可以放一些关于产品的常见问题说明。 ")])])],1)],1)],1)},i=[],s=(a("d3b7"),a("fcac")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:t.title,visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading,width:1e3,footer:null},on:{cancel:t.cancelHandel}},[a("a-row",[a("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{key:"0",ref:"cropper",attrs:{img:t.options.img,info:!0,autoCrop:t.options.autoCrop,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,fixedBox:t.options.fixedBox,canScale:t.options.canScale,fixed:t.options.fixed,fixedNumber:t.options.fixedNumber,centerBox:t.options.centerBox},on:{realTime:t.realTime}})],1),a("a-col",{style:{height:"400px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:t.previews.img,attrs:{src:t.previews.url}})])]),a("a-col",{attrs:{lg:2,md:2}},[a("a-upload",{attrs:{name:"file",beforeUpload:t.beforeUpload,showUploadList:!1,data:{type:4}}},[a("a-button",{attrs:{icon:"upload"}},[t._v("选择图片")])],1)],1),a("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("a-button",{attrs:{icon:"plus"},on:{click:function(e){return t.changeScale(1)}}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"minus"},on:{click:function(e){return t.changeScale(-1)}}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"undo"},on:{click:t.rotateLeft}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"redo"},on:{click:t.rotateRight}})],1),a("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.finish("blob")}}},[t._v("保存")])],1)],1)],1)},n=[],p=(a("3ca3"),a("ddb0"),a("2b3d"),{name:"HeadCut",data:function(){return{title:"",visible:!1,id:null,confirmLoading:!1,uploading:!1,options:{img:"",autoCrop:!0,autoCropWidth:400,autoCropHeight:300,fixedBox:!1,fixed:!1,fixedNumber:[7,7],canScale:!0,centerBox:!0},previews:{},previewVisible:!1,cover:""}},methods:{edit:function(t){this.id=t,this.visible=!0,this.title=1==t?"上传Logo":"上传营业执照"},close:function(){this.id=null,this.visible=!1,this.options.img=""},cancelHandel:function(){this.close()},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(t){var e=this,a=new FileReader;return a.readAsDataURL(t),a.onload=function(){e.options.img=a.result},!1},finish:function(t){var e=this,a=this,o=new FormData;"blob"===t?this.$refs.cropper.getCropBlob((function(t){var i=window.URL.createObjectURL(t);e.model=!0,e.modelSrc=i;var r=new File([t],"image.jpeg");return o.append("files",r),o.append("type",8),Object(s["c"])(o).then((function(t){a.$message.success("上传成功"),a.$emit("ok",1,t.data[0]),a.visible=!1}))})):this.$refs.cropper.getCropData((function(t){e.model=!0,e.modelSrc=t}))},realTime:function(t){this.previews=t}}}),d=p,l=(a("9fd7"),a("2877")),c=Object(l["a"])(d,r,n,!1,null,"c60ed3c8",null),m=c.exports,f=a("e692");var u={name:"StepForm",components:{HeadCut:m,HeadCut1:m},data:function(){return{LogoandLicense:!1,preview:!1,preview1:!1,typeShop:[{type:"线上",id:1},{type:"线下",id:2}],type:"",size:"default",fileList:[],fileList2:[],previewVisible:!1,previewVisible2:!1,previewImage:"",previewImage2:"",foda:{shopName:"",shopType:"",userId:"",logo:"",manageType:"",description:"",companyId:"",address:"",type:8},isHide:!0,isHidea:0,complete:!1,labelCol:{lg:{span:5},sm:{span:5}},wrapperCol:{lg:{span:19},sm:{span:19}},currentTab:0,form:null,rules:{shopName:[{required:!0,message:"请输入店铺名称"},{whitespace:!0,message:"不能添加空格"},{pattern:/^[\u4e00-\u9fa5]{0,}$/,message:"输入有误"},{max:20,message:"最大10个字符"},{min:3,message:"最小3个字符"}]}}},methods:{setavatar:function(t,e){this.foda.logo=e,this.preview=!0},setavatar1:function(t,e){this.foda.licenseUrl=e,this.preview1=!0},typeTreea:function(t){this.foda.manageType=this.typeShop[t].type,this.type=this.typeShop[t].type},nextStep:function(){var t=this;this.$refs.foda.validate((function(e){if(!e)return!1;t.currentTab<2&&(t.currentTab+=1,t.isHide=!1,t.isHidea=1)}))},nextStepa:function(){return this.isHide=!0,this.isHidea=2,this.currentTab<2&&(this.currentTab+=1),this.foda["type"]=8,Object(f["a"])(this.foda)},prevStep:function(){this.isHide=!0,this.isHidea=0,this.currentTab>0&&(this.currentTab-=1)},finish:function(){this.isHide=!0,this.isHidea=0,this.currentTab=0,this.foda={},this.fileList=[],this.fileList2=[],this.type="",this.preview1=!1,this.preview=!1,this.foda.userId=JSON.parse(localStorage.getItem("cf01"))},getLocalStorage:function(){this.foda.userId=JSON.parse(localStorage.getItem("cf01"))}},mounted:function(){this.getLocalStorage()}},h=u,y=(a("0bbd"),Object(l["a"])(h,o,i,!1,null,"490f9bdb",null));e["default"]=y.exports},e692:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var o=a("b775"),i={getShopListByUserId:"/shop/getShopListByUserId",addShop:"/shop/addShop",updateShop:"/shop/updateShop",deleteShop:"/shop/deleteShop",getShopListPageByAdopt:"/shop/getShopListPageByAdopt",updateShopAdopt:"/shop/updateShopAdopt"};function s(t){return Object(o["b"])({url:i.addShop,method:"post",params:t})}},fcac:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return n})),a.d(e,"a",(function(){return p})),a.d(e,"c",(function(){return d}));var o=a("b775"),i={addCompany:"/company/addCompany",companyFindPage:"/company/companyFindPage",getCompanyListByUserId:"/company/getCompanyListByUserId",upDateCompany:"/company/updateCompany",deleteCompany:"/company/deleteCompany",filesCompany:"/gallery/upload",stateCompany:"/company/updateAdopt",typeCompany:"/company/getCompanyType",getCompanyIntroductionListPage:"/sys/CompanyIntroduction/findByCompanyIntroduction",editCompanyIntroduction:"/sys/CompanyIntroduction/SaveOrUpdateCompanyIntroduction",getCompanyIntroductionInfoById:"/sys/CompanyIntroduction/findOneById"};function s(t){return Object(o["b"])({url:i.editCompanyIntroduction,method:"post",data:t})}function r(t){return Object(o["b"])({url:i.getCompanyIntroductionInfoById,method:"get",params:t})}function n(t,e){return Object(o["b"])({url:i.getCompanyIntroductionListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function p(t){return Object(o["b"])({url:i.deleteCompany,method:"post",params:t})}function d(t){return Object(o["b"])({url:i.filesCompany,method:"post",params:{},data:t})}}}]);