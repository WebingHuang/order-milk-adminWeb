(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a4d7599"],{"0c25":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-row",{attrs:{type:"flex",justify:"start"}},[r("a-col",{attrs:{span:16}},[r("div",{staticClass:"article_f"},[r("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{content:e.contents,options:e.editorOptions},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)]),r("a-col",{attrs:{span:8}},[r("div",{ref:"myTitleEditor",staticClass:"article_s"},[r("div",{staticClass:"article_box"},[r("label",[e._v(" 公告标题: ")]),r("a-input",{attrs:{placeholder:"请写一个标题吧"},model:{value:e.articleTitle,callback:function(t){e.articleTitle=t},expression:"articleTitle"}})],1)])])],1),r("div",{staticClass:"save_btn"},[r("a-button",{attrs:{type:"primary"},on:{click:e.onEditorChange}},[e._v("提交")])],1)],1)},n=[],o=(r("a4d3"),r("e01a"),r("4de4"),r("caad"),r("c975"),r("fb6a"),r("a434"),r("d3b7"),r("6062"),r("2532"),r("3ca3"),r("ddb0"),r("96cf"),r("1da1")),i=r("2909"),s=r("ade3"),u=(r("98a7"),r("7bec")),d=(r("a753"),r("8096"),r("14e1"),r("953d")),c=r("5dde"),p=r("5a9d"),l=r("8593"),f=r("d8ad"),m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-modal",{attrs:{title:"上传封面",visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,width:1e3,footer:null},on:{cancel:e.cancelHandel}},[r("a-row",[r("a-col",{style:{width:"450px",height:"350px"},attrs:{xs:24,md:12}},[r("vue-cropper",{directives:[{name:"show",rawName:"v-show",value:e.cropper_show,expression:"cropper_show"}],ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox,canScale:e.options.canScale,fixed:e.options.fixed,fixedNumber:e.options.fixedNumber,centerBox:e.options.centerBox,canMoveBox:e.options.canMoveBox,canMove:e.options.canMove,full:e.options.full},on:{realTime:e.realTime}})],1),r("a-col",{style:{height:"400px"},attrs:{xs:24,md:12}},[r("div",{staticClass:"avatar-upload-preview"},[r("img",{style:e.previews.img,attrs:{src:e.previews.url},on:{click:e.editCropper}})])])],1),r("br"),r("a-row",[r("a-col",{attrs:{lg:2,md:2}},[r("a-upload",{attrs:{name:"file",beforeUpload:e.beforeUpload,showUploadList:!1,data:{type:4}}},[r("a-button",{attrs:{icon:"upload"}},[e._v("选择图片")])],1)],1),r("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[r("a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.changeScale(1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.changeScale(-1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"undo"},on:{click:e.rotateLeft}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"redo"},on:{click:e.rotateRight}})],1),r("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("blob")}}},[e._v("保存")])],1)],1)],1)},g=[],h=(r("2b3d"),r("2423")),b={data:function(){return{cropper_show:!1,visible:!1,id:null,confirmLoading:!1,uploading:!1,options:{img:"",autoCrop:!0,autoCropWidth:400,autoCropHeight:300,fixedBox:!1,fixed:!0,fixedNumber:[4,3],canScale:!0,centerBox:!0,canMoveBox:!1,canMove:!0,full:!0},previews:{},previewVisible:!1,cover:""}},props:["msg"],methods:{edit:function(e){this.visible=!0,this.id=e},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(e){this.cropper_show=!0;var t=new FileReader,r=this;return t.readAsDataURL(e),t.onload=function(){r.options.img=t.result},r.options.img&&(r.options.img=""),!1},finish:function(e){var t=this,r=this,a=new FormData;"blob"===e&&this.$refs.cropper.getCropBlob((function(e){var n=window.URL.createObjectURL(e);t.model=!0,t.modelSrc=n;var o=new File([e],"image.jpeg");return a.append("files",o),a.append("type",4),Object(h["a"])(a).then((function(e){r.$message.success("上传成功"),r.$emit("ok",e.data[0]),r.visible=!1,t.cropper_show=!1}))}))},realTime:function(e){this.previews=e},editCropper:function(){this.cropper_show=!0}},beforeUpdate:function(){this.cropper_show=this.msg}},y=b,v=(r("f920"),r("2877")),w=Object(v["a"])(y,m,g,!1,null,"3a53b012",null),O=w.exports;d["Quill"].register("modules/ImageExtend",c["a"]);var S=u["a"].SHOW_ALL;function j(e,t){var r=new FileReader;r.addEventListener("load",(function(){return t(r.result)})),r.readAsDataURL(e)}var I={components:{quillEditor:d["quillEditor"],AvatarModal:O},data:function(){var e;return e={cropper_show:!0,articleState:"0",contents:"",state:"新增",visible:!1,loading:!0,content:"",articleTitle:"",description:"",articleTypeId:0,oldImg:[],userId:""},Object(s["a"])(e,"visible",!1),Object(s["a"])(e,"editorOptions",p["a"]),Object(s["a"])(e,"previewVisible",!1),Object(s["a"])(e,"previewImage",""),Object(s["a"])(e,"fileList",[]),Object(s["a"])(e,"articleTypeData",[]),Object(s["a"])(e,"SHOW_PARENT",S),Object(s["a"])(e,"articleTypeValue",[]),Object(s["a"])(e,"articleForm",{articleTitle:"",articleTypeId:"",description:"",cover:"",img:[],oldImg:[],adopt:"1",userId:"",articleTypeList:"",type:"4"}),Object(s["a"])(e,"preview",""),e},methods:{unique:function(e){for(var t=0;t<e.length;t++)for(var r=t+1;r<e.length;r++)e[t]==e[r]&&(e.splice(r,1),r--);return e},MergeArray:function(e,t){for(var r=new Array,a=0;a<e.length;a++)r.push(e[a]);for(a=0;a<t.length;a++){for(var n=!0,o=0;o<e.length;o++)if(t[a]==e[o]){n=!1;break}n&&r.push(t[a])}return r},onEditorChange:function(){for(var e=this,t=document.getElementsByClassName("ql-editor")[0],r=t.getElementsByTagName("img"),a=[],n=0;n<r.length;n++)a.push(r[n].src.slice(0));for(var o=[],s=0;s<a.length;s++)-1==o.indexOf(a[s])&&o.push(a[s]);a=o;var u=Object(i["a"])(new Set(this.oldImg[0])).filter((function(e){return a.includes(e)}));this.img=this.MergeArray(a,u),this.img.push(this.preview),this.articleForm.articleTitle=this.articleTitle,1==this.articleState&&(this.articleForm.batchId=this.batchId);var d='<div id="content">'+this.content+"</div>",c={html:d};return d.length>6535?(this.$message.warning("文章长度过长，请修改一下！"),!1):""==this.articleTitle||null==this.articleTitle?(this.$message.error("文章标题不能为空！"),!1):this.articleTitle.length>=30?(this.$message.error("文章标题不能超过30字！"),!1):Object(l["f"])({content:c.html,id:1==this.articleState?this.articleForm.batchId:"",title:this.articleForm.articleTitle}).then((function(t){200==t.code?(e.$message.info("文章发表成功！"),e.content="",e.articleTitle="",e.description="",e.preview="",window.location.reload()):e.$message.warning("文章发表失败！")}))},showModal:function(){this.visible=!0},handleCancel:function(){this.previewVisible=!1},handlePreview:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(e.url||e.preview){r.next=4;break}return r.next=3,j(e.originFileObj);case 3:e.preview=r.sent;case 4:t.previewImage=e.url||e.preview,t.previewVisible=!0;case 6:case"end":return r.stop()}}),r)})))()},setavatar:function(e){this.preview=e},editCropper:function(){this.cropper_show=!0}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}},mounted:function(){var e=this;this.$emit("childByValue",this.state),f["a"].$on("bid",(function(t){e.contents=t[0].content,e.articleTitle=t[0].title,e.batchId=t[0].id,e.articleState=t[1],e.oldImg.push(t[2])}))}},L=I,R=(r("d7cf"),Object(v["a"])(L,a,n,!1,null,null,null));t["default"]=R.exports},2423:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var a=r("b775"),n={getArticleByBatchId:"/article/getArticleByBatchId",addArticle:"/article/addArticle",articleList:"/article/articleFindPage",deleteArticleList:"/article/deleteArticle",uploadFiles:"/gallery/upload",getArticleType:"/article/getArticleType",updateAdopt:"/article/updateAdopt",updateInfo:"/article/updateInfo"};function o(e){return Object(a["b"])({url:n.uploadFiles,method:"post",params:{},data:e})}},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var a=r("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=r("06c5");function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return n(e)||o(e)||Object(i["a"])(e)||s()}},8593:function(e,t,r){"use strict";r.d(t,"C",(function(){return o})),r.d(t,"w",(function(){return i})),r.d(t,"x",(function(){return s})),r.d(t,"I",(function(){return u})),r.d(t,"s",(function(){return d})),r.d(t,"m",(function(){return c})),r.d(t,"n",(function(){return p})),r.d(t,"c",(function(){return l})),r.d(t,"l",(function(){return f})),r.d(t,"k",(function(){return m})),r.d(t,"t",(function(){return g})),r.d(t,"y",(function(){return h})),r.d(t,"f",(function(){return b})),r.d(t,"q",(function(){return y})),r.d(t,"r",(function(){return v})),r.d(t,"L",(function(){return w})),r.d(t,"p",(function(){return O})),r.d(t,"e",(function(){return S})),r.d(t,"d",(function(){return j})),r.d(t,"M",(function(){return I})),r.d(t,"i",(function(){return L})),r.d(t,"E",(function(){return R})),r.d(t,"K",(function(){return P})),r.d(t,"z",(function(){return B})),r.d(t,"F",(function(){return C})),r.d(t,"H",(function(){return U})),r.d(t,"D",(function(){return x})),r.d(t,"u",(function(){return A})),r.d(t,"A",(function(){return N})),r.d(t,"b",(function(){return T})),r.d(t,"N",(function(){return q})),r.d(t,"o",(function(){return F})),r.d(t,"J",(function(){return _})),r.d(t,"h",(function(){return k})),r.d(t,"B",(function(){return z})),r.d(t,"a",(function(){return E})),r.d(t,"g",(function(){return $})),r.d(t,"j",(function(){return M})),r.d(t,"v",(function(){return W}));var a=r("b775"),n={usersFindPage:"/system/usersFindPage",getUserListByCompanyId:"/company/getUserListByCompanyId",upDateUser:"/sys/user/updateUser",deleteUser:"/system/deleteUser",roleFindPage:"/system/roleFindPage",updateRoleInfo:"/sys/role/updateRole",addRole:"/sys/role/save",deleteRole:"/sys/role/removeRole",routesFindPage:"/sys/route/queryRouteList",updateRouteInfo:"/sys/route/updateRoute",addRoute:"/sys/route/addRoute",deleteRoute:"/sys/route/removeRoute",removePower:"/sys/power/removePower",powersFindPage:"/sys/power/queryPowerList",updatePowerInfo:"/sys/power/updatePower",addPower:"/sys/power/addPower",deletePower:"/system/deletePower",getRole:"/system/getRole",getRoute:"/sys/route/queryRouteTree",getPower:"/sys/power/queryPowerTree",companyFindPage:"/company/companyFindPage",getShopListPage:"/sys/store/queryStore",getUserListPage:"/sys/user/queryUserList",addUser:"/sys/user/save",getSysRoleListPage:"/sys/role/queryRoleList",upload:"/UploadPictures/upload",getRoleTypeList:"/sys/role/queryRoleNameList",removeUser:"/sys/user/removeUser",getCardListPage:"/shop/findByCards",getfindByCardList:"/shop/findByCardList",addCard:"/shop/GenerateCard",getSwperListPage:"/sys/staticInfo/queryList",addSwiper:"/sys/staticInfo/uploadStaticInfo",updateStatus:"/sys/staticInfo/updateStatus",editSwiper:"/sys/staticInfo/updateStaticInfo",delSwiper:"/sys/staticInfo/removeImg",addShop:"/sys/staticInfo/",editMenuStatus:"/sys/route/updateStatus",getUserArray:"/sys/user/getUserNameOnPhone",getBatchNoList:"/shop/queryBn",getFindByOrderListPage:"/common/OmsOrder/findByOrderByStatus",updateOrderStatus:"/common/OmsOrder/updateStatus",getNoticeListPage:"/sys/announcement/findByAnnouncements",getNoticeInfoById:"/sys/announcement/findOneById",editNotice:"/sys/announcement/SaveOrUpdateAnnouncement",getRefundListPage:"/sys/refundInfo/queryRefundList",getOrderInfoById:"/common/OmsOrder/queryOrder",getByOrderSn:"/common/OmsOrder/queryByOrderSn",getBankListPage:"/sys/AdministratorReview/findByUserInfos",getMoneyListPage:"/sys/AdministratorReview/findByWithdraw",getRateListPage:"/sys/rate/queryList",addRate:"/sys/rate/addRate",updateRate:"/sys/rate/updateRate",editRateStatus:"/sys/rate/updateStatus",removeEateById:"/sys/rate/removeById",editUserStatus:"/sys/user/updateStatus",updateByCode:"/shop/updateByCode",updateCrodFlag:"shop/updateFlag",updateAgent:"/shop/updateAgent",checkRefund:"/sys/refundInfo/checkRefund",getCommodityList:"/sys/commodity/queryList",putWithdrawalAdopt:"/sys/AdministratorReview/WithdrawApproved",putWithdrawalNotAdopt:"/sys/AdministratorReview/WithdrawAuditFailed",getCardListByUserCOde:"/sys/user/queryInfoByUserCode",getOrderExcel:"/common/OmsOrder/findOrderExcel",getQrImg:"/shop/queryShopCardEwm",putOderState:"/api/wechatpay/wechatpay_callback_shsd",getAgentUser:"/agentUp/queryAgentUser",getAgentUserOrder:"/agentUp/queryAgentUserOrder",getSchoolPage:"/sys/querySchoolsAndClass",getQueryContactUs:"/sys/queryContactUs",getQueryInform:"/sysinform/queryInform"};function o(e,t){return Object(a["b"])({url:n.getSchoolPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function i(e,t){return Object(a["b"])({url:n.getQueryContactUs,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function s(e,t){return Object(a["b"])({url:n.getQueryInform,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function u(e){return Object(a["b"])({url:n.putOderState,method:"get",params:e})}function d(e){return Object(a["b"])({url:n.getOrderExcel,method:"post",data:e})}function c(e){return Object(a["b"])({url:n.getCardListByUserCOde,method:"get",params:e})}function p(e){return Object(a["b"])({url:n.getCommodityList,method:"get",params:e})}function l(e){return Object(a["b"])({url:n.checkRefund,method:"get",params:e})}function f(e){return Object(a["b"])({url:n.getByOrderSn,method:"get",params:e})}function m(e){return Object(a["b"])({url:n.editUserStatus,method:"post",params:e})}function g(e){return Object(a["b"])({url:n.getOrderInfoById,method:"get",params:e})}function h(e,t){return Object(a["b"])({url:n.getRefundListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function b(e){return Object(a["b"])({url:n.editNotice,method:"post",data:e})}function y(e){return Object(a["b"])({url:n.getNoticeInfoById,method:"get",params:e})}function v(e,t){return Object(a["b"])({url:n.getNoticeListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function w(e){return Object(a["b"])({url:n.updateOrderStatus,method:"get",params:e})}function O(e,t){return Object(a["b"])({url:n.getFindByOrderListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function S(e){return Object(a["b"])({url:n.editMenuStatus,method:"post",params:e})}function j(e){return Object(a["b"])({url:n.delSwiper,method:"post",params:e})}function I(e){return Object(a["b"])({url:n.updateStatus,method:"post",params:e})}function L(e,t){return Object(a["b"])({url:0==e?n.addSwiper:n.editSwiper,method:"post",data:t})}function R(e,t){return Object(a["b"])({url:n.getSwperListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function P(e){return Object(a["b"])({url:n.removeUser,method:"post",params:e})}function B(e,t){return Object(a["b"])({url:n.getRoleTypeList,method:"post",data:t})}function C(e,t){return Object(a["b"])({url:n.getSysRoleListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function U(e,t){return Object(a["b"])({url:n.getUserListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function x(e,t){return Object(a["b"])({url:n.getShopListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function A(){return Object(a["b"])({url:n.getPower,method:"post"})}function N(e){return Object(a["b"])({url:n.getRoute,method:"post",params:e})}function T(e,t){return Object(a["b"])({url:e?n.updatePowerInfo:n.addPower,method:"post",data:t})}function q(e){return Object(a["b"])({url:n.upload,method:"post",params:{},data:e})}function F(e){return Object(a["b"])({url:n.deleteRoute,method:"post",params:e})}function _(e){return Object(a["b"])({url:n.removePower,method:"post",params:e})}function k(e,t){return Object(a["b"])({url:e?n.updateRouteInfo:n.addRoute,method:"post",data:t})}function z(e,t){return Object(a["b"])({url:n.routesFindPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function E(e){return Object(a["b"])({url:n.deleteRole,method:"post",params:e})}function $(e,t){return Object(a["b"])({url:e?n.updateRoleInfo:n.addRole,method:"post",data:t})}function M(e,t){return Object(a["b"])({url:0==e?n.addUser:n.upDateUser,method:"post",data:t})}function W(e){return Object(a["b"])({url:n.powersFindPage,method:"post",params:e})}},c6eb:function(e,t,r){},c880:function(e,t,r){},d7cf:function(e,t,r){"use strict";var a=r("c880"),n=r.n(a);n.a},f920:function(e,t,r){"use strict";var a=r("c6eb"),n=r.n(a);n.a}}]);