(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3499ebf4"],{"027a":function(t,e,o){"use strict";o.d(e,"d",(function(){return a})),o.d(e,"e",(function(){return n})),o.d(e,"h",(function(){return s})),o.d(e,"j",(function(){return d})),o.d(e,"i",(function(){return m})),o.d(e,"g",(function(){return u})),o.d(e,"c",(function(){return c})),o.d(e,"b",(function(){return p})),o.d(e,"k",(function(){return l})),o.d(e,"f",(function(){return y})),o.d(e,"a",(function(){return f}));var r=o("b775"),i={getArticleByBatchId:"/article/getArticleByBatchId",addArticle:"/article/addArticle",articleList:"/article/articleFindPage",deleteArticleList:"/article/deleteArticle",uploadFiles:"/gallery/upload",getArticleType:"/article/getArticleType",updateAdopt:"/article/updateAdopt",updateInfo:"/article/updateInfo",removeCommodity:"/sys/commodity/deleteCommodity",addCommodity:"/sys/commodity/SaveOrUpdateCommodities",getCommodityListPage:"/sys/commodity/findByCommodities",openCommodity:"/sys/commodity/EnableCommodity",offCommodity:"/sys/commodity/CloseCommodity",addCommodityType:"/productSpuType/addSpuType",updataCommodityType:"/productSpuType/updateSpuType",getCommodityTypeListPage:"/productSpuType/queryList",putTypeStatus:"/productSpuType/updateStatus",removeType:"/productSpuType/removeById",getTypeList:"/productSpuType/queryTypeList",getCommodityInfoById:"/sys/commodity/findOneById",updateHomeEnable:"/sys/commodity/updateHomeEnable",updateHomeClose:"/sys/commodity/updateHomeClose"};function a(t,e){return Object(r["b"])({url:t?i.updateHomeEnable:i.updateHomeClose,method:"get",params:e})}function n(t){return Object(r["b"])({url:i.getCommodityInfoById,method:"get",params:t})}function s(t){return Object(r["b"])({url:i.getTypeList,method:"get",params:t})}function d(t){return Object(r["b"])({url:i.removeType,method:"get",params:t})}function m(t){return Object(r["b"])({url:i.putTypeStatus,method:"get",params:t})}function u(t,e){return Object(r["b"])({url:i.getCommodityTypeListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function c(t,e){return Object(r["b"])({url:t?i.updataCommodityType:i.addCommodityType,method:"post",data:e})}function p(t){return Object(r["b"])({url:i.removeCommodity,method:"post",params:t})}function l(t,e){return Object(r["b"])({url:t?i.openCommodity:i.offCommodity,method:"post",params:e})}function y(t,e){return Object(r["b"])({url:i.getCommodityListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function f(t){return Object(r["b"])({url:i.addCommodity,method:"post",data:t})}},4793:function(t,e,o){"use strict";var r=o("ef18"),i=o.n(r);i.a},8593:function(t,e,o){"use strict";o.d(e,"h",(function(){return a})),o.d(e,"c",(function(){return n})),o.d(e,"g",(function(){return s})),o.d(e,"k",(function(){return d})),o.d(e,"i",(function(){return m})),o.d(e,"j",(function(){return u})),o.d(e,"d",(function(){return c})),o.d(e,"p",(function(){return p})),o.d(e,"K",(function(){return l})),o.d(e,"E",(function(){return y})),o.d(e,"F",(function(){return f})),o.d(e,"Q",(function(){return g})),o.d(e,"A",(function(){return h})),o.d(e,"u",(function(){return b})),o.d(e,"v",(function(){return S})),o.d(e,"e",(function(){return F})),o.d(e,"t",(function(){return O})),o.d(e,"s",(function(){return C})),o.d(e,"B",(function(){return v})),o.d(e,"G",(function(){return L})),o.d(e,"m",(function(){return I})),o.d(e,"y",(function(){return w})),o.d(e,"z",(function(){return U})),o.d(e,"T",(function(){return j})),o.d(e,"x",(function(){return P})),o.d(e,"l",(function(){return R})),o.d(e,"f",(function(){return k})),o.d(e,"U",(function(){return N})),o.d(e,"q",(function(){return T})),o.d(e,"M",(function(){return B})),o.d(e,"S",(function(){return E})),o.d(e,"H",(function(){return q})),o.d(e,"N",(function(){return A})),o.d(e,"P",(function(){return z})),o.d(e,"L",(function(){return x})),o.d(e,"C",(function(){return $})),o.d(e,"I",(function(){return _})),o.d(e,"b",(function(){return D})),o.d(e,"V",(function(){return V})),o.d(e,"w",(function(){return H})),o.d(e,"R",(function(){return Q})),o.d(e,"o",(function(){return W})),o.d(e,"J",(function(){return M})),o.d(e,"a",(function(){return J})),o.d(e,"n",(function(){return G})),o.d(e,"r",(function(){return Y})),o.d(e,"D",(function(){return K}));var r=o("b775"),i={usersFindPage:"/system/usersFindPage",getUserListByCompanyId:"/company/getUserListByCompanyId",upDateUser:"/sys/user/updateUser",deleteUser:"/system/deleteUser",roleFindPage:"/system/roleFindPage",updateRoleInfo:"/sys/role/updateRole",addRole:"/sys/role/save",deleteRole:"/sys/role/removeRole",routesFindPage:"/sys/route/queryRouteList",updateRouteInfo:"/sys/route/updateRoute",addRoute:"/sys/route/addRoute",deleteRoute:"/sys/route/removeRoute",removePower:"/sys/power/removePower",powersFindPage:"/sys/power/queryPowerList",updatePowerInfo:"/sys/power/updatePower",addPower:"/sys/power/addPower",deletePower:"/system/deletePower",getRole:"/system/getRole",getRoute:"/sys/route/queryRouteTree",getPower:"/sys/power/queryPowerTree",companyFindPage:"/company/companyFindPage",getShopListPage:"/sys/store/queryStore",getUserListPage:"/sys/user/queryUserList",addUser:"/sys/user/save",getSysRoleListPage:"/sys/role/queryRoleList",upload:"/UploadPictures/upload",getRoleTypeList:"/sys/role/queryRoleNameList",removeUser:"/sys/user/removeUser",getCardListPage:"/shop/findByCards",getfindByCardList:"/shop/findByCardList",addCard:"/shop/GenerateCard",getSwperListPage:"/sys/staticInfo/queryList",addSwiper:"/sys/staticInfo/uploadStaticInfo",updateStatus:"/sys/staticInfo/updateStatus",editSwiper:"/sys/staticInfo/updateStaticInfo",delSwiper:"/sys/staticInfo/removeImg",addShop:"/sys/staticInfo/",editMenuStatus:"/sys/route/updateStatus",getUserArray:"/sys/user/getUserNameOnPhone",getBatchNoList:"/shop/queryBn",getFindByOrderListPage:"/common/OmsOrder/findByOrderByStatus",updateOrderStatus:"/common/OmsOrder/updateStatus",getNoticeListPage:"/sys/announcement/findByAnnouncements",getNoticeInfoById:"/sys/announcement/findOneById",editNotice:"/sys/announcement/SaveOrUpdateAnnouncement",getRefundListPage:"/sys/refundInfo/queryRefundList",getOrderInfoById:"/common/OmsOrder/queryOrder",getByOrderSn:"/common/OmsOrder/queryByOrderSn",getBankListPage:"/sys/AdministratorReview/findByUserInfos",getMoneyListPage:"/sys/AdministratorReview/findByWithdraw",getRateListPage:"/sys/rate/queryList",addRate:"/sys/rate/addRate",updateRate:"/sys/rate/updateRate",editRateStatus:"/sys/rate/updateStatus",removeEateById:"/sys/rate/removeById",editUserStatus:"/sys/user/updateStatus",updateByCode:"/shop/updateByCode",updateCrodFlag:"shop/updateFlag",updateAgent:"/shop/updateAgent",checkRefund:"/sys/refundInfo/checkRefund",getCommodityList:"/sys/commodity/queryList",putWithdrawalAdopt:"/sys/AdministratorReview/WithdrawApproved",putWithdrawalNotAdopt:"/sys/AdministratorReview/WithdrawAuditFailed",getCardListByUserCOde:"/sys/user/queryInfoByUserCode",getOrderExcel:"/common/OmsOrder/findOrderExcel",getQrImg:"/shop/queryShopCardEwm",putOderState:"/api/wechatpay/wechatpay_callback_shsd",getAgentUser:"/agentUp/queryAgentUser",getAgentUserOrder:"/agentUp/queryAgentUserOrder",getSchoolPage:"/sys/querySchoolsAndClass",addSchool:"/sys/addSchool",updateSchool:"/sys/updateSchoolName",deteleSchool:"/sys/deteleSchool",addSchoolClass:"/sys/addSchoolClass",deteleSchoolClass:"/sys/deteleSchoolClass",getQueryContactUs:"/sys/queryContactUs",addOrUpdateContactUs:"/sys/addOrUpdateContactUs",deteleContactUs:"/sys/deteleContactUs",getQueryInform:"/sysinform/queryInform",addInform:"/sysinform/addInform",deteleInform:"/sysinform/deteleInform"};function a(t){return Object(r["b"])({url:i.deteleInform,method:"post",data:t})}function n(t){return Object(r["b"])({url:i.addInform,method:"post",data:t})}function s(t){return Object(r["b"])({url:i.deteleContactUs,method:"post",data:t})}function d(t){return Object(r["b"])({url:i.addOrUpdateContactUs,method:"post",data:t})}function m(t){return Object(r["b"])({url:i.deteleSchool,method:"post",data:t})}function u(t){return Object(r["b"])({url:i.deteleSchoolClass,method:"post",data:t})}function c(t){return Object(r["b"])({url:i.addSchoolClass,method:"post",data:t})}function p(t,e){return Object(r["b"])({url:0==t?i.addSchool:i.updateSchool,method:"post",data:e})}function l(t,e){return Object(r["b"])({url:i.getSchoolPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function y(t,e){return Object(r["b"])({url:i.getQueryContactUs,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function f(t,e){return Object(r["b"])({url:i.getQueryInform,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function g(t){return Object(r["b"])({url:i.putOderState,method:"get",params:t})}function h(t){return Object(r["b"])({url:i.getOrderExcel,method:"post",data:t})}function b(t){return Object(r["b"])({url:i.getCardListByUserCOde,method:"get",params:t})}function S(t){return Object(r["b"])({url:i.getCommodityList,method:"get",params:t})}function F(t){return Object(r["b"])({url:i.checkRefund,method:"get",params:t})}function O(t){return Object(r["b"])({url:i.getByOrderSn,method:"get",params:t})}function C(t){return Object(r["b"])({url:i.editUserStatus,method:"post",params:t})}function v(t){return Object(r["b"])({url:i.getOrderInfoById,method:"get",params:t})}function L(t,e){return Object(r["b"])({url:i.getRefundListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function I(t){return Object(r["b"])({url:i.editNotice,method:"post",data:t})}function w(t){return Object(r["b"])({url:i.getNoticeInfoById,method:"get",params:t})}function U(t,e){return Object(r["b"])({url:i.getNoticeListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function j(t){return Object(r["b"])({url:i.updateOrderStatus,method:"get",params:t})}function P(t,e){return Object(r["b"])({url:i.getFindByOrderListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function R(t){return Object(r["b"])({url:i.editMenuStatus,method:"post",params:t})}function k(t){return Object(r["b"])({url:i.delSwiper,method:"post",params:t})}function N(t){return Object(r["b"])({url:i.updateStatus,method:"post",params:t})}function T(t,e){return Object(r["b"])({url:0==t?i.addSwiper:i.editSwiper,method:"post",data:e})}function B(t,e){return Object(r["b"])({url:i.getSwperListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function E(t){return Object(r["b"])({url:i.removeUser,method:"post",params:t})}function q(t,e){return Object(r["b"])({url:i.getRoleTypeList,method:"post",data:e})}function A(t,e){return Object(r["b"])({url:i.getSysRoleListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function z(t,e){return Object(r["b"])({url:i.getUserListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function x(t,e){return Object(r["b"])({url:i.getShopListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function $(){return Object(r["b"])({url:i.getPower,method:"post"})}function _(t){return Object(r["b"])({url:i.getRoute,method:"post",params:t})}function D(t,e){return Object(r["b"])({url:t?i.updatePowerInfo:i.addPower,method:"post",data:e})}function V(t){return Object(r["b"])({url:i.upload,method:"post",params:{},data:t})}function H(t){return Object(r["b"])({url:i.deleteRoute,method:"post",params:t})}function Q(t){return Object(r["b"])({url:i.removePower,method:"post",params:t})}function W(t,e){return Object(r["b"])({url:t?i.updateRouteInfo:i.addRoute,method:"post",data:e})}function M(t,e){return Object(r["b"])({url:i.routesFindPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function J(t){return Object(r["b"])({url:i.deleteRole,method:"post",params:t})}function G(t,e){return Object(r["b"])({url:t?i.updateRoleInfo:i.addRole,method:"post",data:e})}function Y(t,e){return Object(r["b"])({url:0==t?i.addUser:i.upDateUser,method:"post",data:e})}function K(t){return Object(r["b"])({url:i.powersFindPage,method:"post",params:t})}},e4c7:function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"shopedit"}},[o("page-header-wrapper",[o("a-card",{attrs:{bordered:!1}},[o("div",{},[o("div",{},[o("a-form",{attrs:{layout:"horizontal"}},[o("a-form-model",{ref:"commodityForm",attrs:{"label-col":t.labelCol,"wrapper-col":t.wrapperCol,model:t.commodityForm}},[o("div",{staticClass:"commodityForm"},[o("div",{staticClass:"lfte"},[o("a-form-model-item",{attrs:{label:"商品名称",required:!0}},[o("a-input",{model:{value:t.commodityForm.name,callback:function(e){t.$set(t.commodityForm,"name",e)},expression:"commodityForm.name"}})],1),o("a-form-model-item",{attrs:{label:"是否上架"}},[o("a-switch",{attrs:{"default-checked":"",checked:t.commodityForm.isEnable},on:{click:function(e){t.commodityForm.isEnable=!t.commodityForm.isEnable}}})],1),o("a-form-model-item",{attrs:{label:"是否在首页展示"}},[o("a-switch",{attrs:{"default-checked":"",checked:t.commodityForm.isFlag},on:{click:function(e){t.commodityForm.isFlag=!t.commodityForm.isFlag}}})],1),t.commodityForm.isAgent?t._e():o("a-form-model-item",{attrs:{label:"商品类别",required:!0}},[o("a-select",{staticStyle:{width:"100%"},attrs:{mode:"combobox"},on:{change:t.commodityYtpeChange},model:{value:t.commodityForm.type,callback:function(e){t.$set(t.commodityForm,"type",e)},expression:"commodityForm.type"}},t._l(t.commodityTypeList,(function(e){return o("a-select-option",{key:e},[t._v(" "+t._s(e)+" ")])})),1)],1),o("a-form-model-item",{attrs:{label:"上传封面",required:!0}},[o("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar","list-type":"picture-card","show-upload-list":!1,"before-upload":t.beforeUpload1},on:{change:t.handleChange1}},[t.commodityForm.cover?o("img",{attrs:{src:t.commodityForm.cover,alt:"avatar"}}):o("div",[o("a-icon",{attrs:{type:t.loading?"loading":"plus"}}),o("div",{staticClass:"ant-upload-text"},[t._v(" 上传 ")])],1)])],1),o("a-form-model-item",{attrs:{label:"轮播图",required:!0}},[o("a-upload",{staticClass:"avatar-uploader",attrs:{multiple:!0,"list-type":"picture-card","file-list":t.fileList,"before-upload":t.beforeUpload2},on:{preview:t.handlePreview,change:t.handleChange2}},[t.fileList.length<8?o("div",[o("a-icon",{attrs:{type:"plus"}}),o("div",{staticClass:"ant-upload-text"},[t._v(" 上传 ")])],1):t._e()]),o("a-modal",{attrs:{visible:t.previewVisible,footer:null},on:{cancel:t.handleCancel}},[o("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:t.previewImage}})])],1),o("a-form-model-item",{attrs:{label:"商品规格",required:!0}},[o("div",{staticClass:"specs_list"},t._l(t.specsList,(function(e,r){return o("div",{key:r,staticClass:"specs_list_item"},[o("div",{staticClass:"specs_list_item_lfte"},[o("a-form-item",{attrs:{label:"名称",labelCol:{lg:{span:6},sm:{span:16}},required:!0}},[o("a-input",{attrs:{size:"small"},model:{value:e.name,callback:function(o){t.$set(e,"name",o)},expression:"item.name"}})],1),o("a-form-item",{attrs:{label:"单价",labelCol:t.labelCol2,required:!0}},[o("a-input",{attrs:{size:"small"},model:{value:e.price,callback:function(o){t.$set(e,"price",o)},expression:"item.price"}})],1),o("a-form-item",{attrs:{label:"库存数量",labelCol:t.labelCol2,required:!0}},[o("a-input",{attrs:{size:"small"},model:{value:e.number,callback:function(o){t.$set(e,"number",o)},expression:"item.number"}})],1),o("a-form-item",{staticStyle:{width:"150px"},attrs:{label:"封面",labelCol:t.labelCol2}},[o("div",{on:{click:function(e){return t.clickImg(r)}}},[o("a-upload",{staticClass:"avatar-uploader",attrs:{name:"avatar"+r,"list-type":"picture-card","show-upload-list":!1,"before-upload":t.beforeUpload3},on:{change:t.handleChange3}},[e.img?o("img",{attrs:{src:e.img,alt:"avatar"}}):o("div",[o("a-icon",{attrs:{type:"plus"}})],1)])],1)])],1),o("div",{staticClass:"specs_list_item_right",staticStyle:{width:"66px"}},[o("a-button-group",[o("a-button",{attrs:{icon:"plus",size:"small"},on:{click:t.addSpecs}}),e.isone?t._e():o("a-button",{attrs:{icon:"minus",size:"small"},on:{click:function(o){return t.delSpecs(e,r)}}})],1)],1)])})),0)])],1),o("div",{staticClass:"right"},[o("a-form-model-item",{attrs:{label:"图文详情"}},[o("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{content:t.contents,options:t.editorOptions},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)],1)])]),o("a-form-item",{attrs:{wrapperCol:{span:19,offset:5}}},[o("a-button",{attrs:{type:"primary"},on:{click:t.postFormData}},[t._v("提交")])],1)],1)],1)])])],1)],1)},i=[],a=(o("4160"),o("d81d"),o("a434"),o("b0c0"),o("a9e3"),o("159b"),o("96cf"),o("1da1")),n=(o("a753"),o("8096"),o("14e1"),o("953d")),s=o("5dde"),d=o("5a9d"),m=o("8593"),u=o("027a");o("d8ad");n["Quill"].register("modules/ImageExtend",s["a"]);var c={name:"shopedit",components:{quillEditor:n["quillEditor"]},data:function(){return{commodityTypeList:[],imgIndex:0,specsList:[{img:"",imgUrl:"",imgList:[],name:"",price:"",number:"",color:"",isone:!0,capacity:"",company:["ml","L"]}],editorOptions:d["a"],content:"",contents:"",loading:!1,preview:!1,type:"",size:"default",fileList:[],previewVisible:!1,previewImage:"",commodityForm:{name:"",number:"",price:"",cover:"",imgUrl:"",swiperList:[],isEnable:!0,isFlag:!1,html:"",shipping:!0,shippingCost:"",type:""},labelCol2:{lg:{span:12},sm:{span:16}},labelCol:{lg:{span:2},sm:{span:4}},wrapperCol:{lg:{span:20},sm:{span:20}},currentTab:0,rules:{},num:1}},methods:{commodityYtpeChange:function(t){},getTypeList:function(){var t=this;return Object(u["h"])().then((function(e){t.commodityTypeList=[],e.data.map((function(e){t.commodityTypeList.push(e.spuType)}))}))},getCommodityInfoById:function(t){var e=this;return Object(u["e"])({id:t}).then((function(t){var o=t.data;e.commodityForm.name=o.spuName,e.commodityForm.type=o.spuType,e.commodityForm.cover=o.imgUrl,e.commodityForm.imgUrl=o.imgUrl,1==o.publishStatus?e.commodityForm.isEnable=!0:e.commodityForm.isEnable=!1,1==o.isCard?e.commodityForm.isAgent=!0:e.commodityForm.isAgent=!1,1==o.homeStatus?e.commodityForm.isFlag=!0:e.commodityForm.isFlag=!1,o.productSpuImagesEntities.map((function(t){e.fileList.push({id:t.id,uid:t.id,name:"image.png",status:"done",url:t.imgUrl})})),o.productSkuInfoEntities.length>0&&(e.specsList=[]),o.productSkuInfoEntities.map((function(t,o){e.specsList.push({id:t.id,img:t.skuDefaultImg,imgUrl:t.skuDefaultImg,imgList:[],name:t.skuName,price:t.price,number:t.stock,color:"",isone:!1,capacity:t.capacity,company:["ml","L"]}),0==o&&(e.specsList[0].isone=!0)})),o.productSpuInfoDescEntities.map((function(t){e.contents=t.decript})),e.$forceUpdate()}))},init:function(){this.commodityForm.name="",this.commodityForm.number="",this.commodityForm.price="",this.commodityForm.cover="",this.commodityForm.imgUrl="",this.commodityForm.swiperList=[],this.commodityForm.isEnable=!0,this.commodityForm.html="",this.commodityForm.shipping="",this.commodityForm.shippingCost="",this.specsList=[{img:"",imgUrl:"",imgList:[],name:"",price:"",number:"",color:"",isone:!0,capacity:"",company:["ml","L"]}],this.imgIndex=0,this.fileList=[],this.previewImage="",this.content="",this.$router.push("/commodity/edit")},clickImg:function(t){this.imgIndex=t},addSpecs:function(){this.specsList.push({img:"",imgUrl:"",imgList:[],name:"",isone:!1,number:"",price:"",color:"",capacity:"",company:["ml","L"]})},delSpecs:function(t,e){this.specsList.splice(e,1)},handlePreview:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.thumbUrl?e.previewImage=t.thumbUrl:e.previewImage=t.url,e.previewVisible=!0;case 2:case"end":return o.stop()}}),o)})))()},handleChange2:function(t){var e=t.fileList;this.fileList=e},beforeUpload2:function(t){var e=new FileReader;return e.readAsDataURL(t),e.onload=function(){},!1},handleCancel:function(){this.previewVisible=!1},addWeiper:function(){var t=this,e=this;0==e.fileList.length&&e.$message.warning("轮播图不能为空");var o=[],r=[];e.fileList.forEach((function(t,e){t.thumbUrl?o.push(t):r.push(t)})),e.commodityForm.isAgent&&(e.commodityForm.type=""),!e.commodityForm.isAgent&&e.commodityForm.type;var i=new FormData;if(o.forEach((function(t){i.append("files",t.originFileObj)})),o.length>0)return Object(m["V"])(i).then((function(o){if(200==o.code){var i={id:Number(t.commodityForm.id),spuName:e.commodityForm.name,homeStatus:e.commodityForm.isFlag?1:0,imgUrl:e.commodityForm.imgUrl,spuType:e.commodityForm.type,productSpuInfoDescEntities:[{spuId:e.commodityForm.id?e.commodityForm.id:"",decript:e.content}],productSpuImagesEntities:[],feight:e.commodityForm.shippingCost||0,productSkuInfoEntities:[]};return o.imgesList.map((function(t){r.push(t)})),e.commodityForm.swiperList=r,e.commodityForm.swiperList.map((function(t,o){t.name?i.productSpuImagesEntities.push({id:t.id,spuId:e.commodityForm.id?e.commodityForm.id:"",imgSort:Number(o+1),imgUrl:t.url}):i.productSpuImagesEntities.push({id:t.id,spuId:e.commodityForm.id?e.commodityForm.id:"",imgSort:Number(o+1),imgUrl:t})})),e.specsList.map((function(t){i.productSkuInfoEntities.push({id:t.id,price:t.price,skuDefaultImg:t.imgUrl,skuName:t.name,capacity:100,spuType:e.commodityForm.type,spuId:e.commodityForm.id,stock:t.number})})),Object(u["a"])(i).then((function(e){200==e.code&&(t.$notification.success({message:"操作",description:"发布成功"}),t.init())}))}t.$message.error("图片上传异常")}));var a={id:Number(e.commodityForm.id),spuName:e.commodityForm.name,imgUrl:e.commodityForm.imgUrl,spuType:e.commodityForm.type,productSpuInfoDescEntities:[{spuId:e.commodityForm.id?e.commodityForm.id:"",decript:e.content}],productSpuImagesEntities:[],feight:e.commodityForm.shippingCost||0,productSkuInfoEntities:[]};return e.commodityForm.swiperList=r,e.commodityForm.swiperList.map((function(t,o){t.name?a.productSpuImagesEntities.push({id:t.id,spuId:e.commodityForm.id?e.commodityForm.id:"",imgSort:Number(o+1),imgUrl:t.url}):a.productSpuImagesEntities.push({id:t.id,spuId:e.commodityForm.id?e.commodityForm.id:"",imgSort:Number(o+1),imgUrl:t})})),e.specsList.map((function(t){a.productSkuInfoEntities.push({id:t.id,price:t.price,skuDefaultImg:t.imgUrl,skuName:t.name,capacity:100,spuType:e.commodityForm.type,spuId:e.commodityForm.id,stock:t.number})})),Object(u["a"])(a).then((function(e){200==e.code&&(t.$notification.success({message:"操作",description:"发布成功"}),t.init())}))},check:function(){var t=!1;if(""==this.commodityForm.name)return this.$message.warning("商品名称不能为空"),t=!0,t;if(""==this.commodityForm.imgUrl)return this.$message.warning("首图不能为空"),t=!0,t;if(!this.commodityForm.isAgent&&""==this.commodityForm.type)return this.$message.warning("商品类型不能为空"),t=!0,t;for(var e=0;e<this.specsList.length;e++){if(""==this.specsList[e].name){this.$message.warning("商品规格名称不能为空"),t=!0;break}if(""==this.specsList[e].price){this.$message.warning("商品规格价格不能为空"),t=!0;break}if(""==this.specsList[e].number){this.$message.warning("商品规格库存数量不能为空"),t=!0;break}}return t},postFormData:function(){var t=this;t.check()||t.addWeiper()},handleChange3:function(t){var e=this,o=new FormData;return o.append("files",t.file),Object(m["V"])(o).then((function(t){200==t.code&&(e.specsList[e.imgIndex].imgUrl=t.imgesList[0],e.$message.success("上传成功"))}))},beforeUpload3:function(t){var e=this,o=new FileReader;return o.readAsDataURL(t),o.onload=function(){e.specsList[e.imgIndex].img=o.result},!1},handleChange1:function(t){var e=this,o=new FormData;return o.append("files",t.file),Object(m["V"])(o).then((function(t){200==t.code&&(e.commodityForm.imgUrl=t.imgesList[0],e.$message.success("上传成功"))}))},beforeUpload1:function(t){var e=this,o=new FileReader;return o.readAsDataURL(t),o.onload=function(){e.commodityForm.cover=o.result},!1}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}},created:function(){},mounted:function(){this.getTypeList(),this.commodityForm["id"]=this.$route.query.id,this.$route.query.id&&this.getCommodityInfoById(this.commodityForm.id)}},p=c,l=(o("4793"),o("2877")),y=Object(l["a"])(p,r,i,!1,null,null,null);e["default"]=y.exports},ef18:function(t,e,o){}}]);