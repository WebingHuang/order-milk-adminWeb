(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cb561a7e"],{"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7"),r("e6cf");function o(e,t,r,o,n,a,s){try{var u=e[a](s),i=u.value}catch(d){return void r(d)}u.done?t(i):Promise.resolve(i).then(o,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var s=e.apply(t,r);function u(e){o(s,n,a,u,i,"next",e)}function i(e){o(s,n,a,u,i,"throw",e)}u(void 0)}))}}},"33e6":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isShow?r("div",{staticClass:"account-settings-info-view"},[r("a-row",{attrs:{gutter:16}},[r("a-col",{attrs:{md:24,lg:16}},[r("a-form",{attrs:{layout:"vertical"}},[r("a-form-item",{attrs:{label:"用户名"}},[r("span",[e._v(e._s(e.userInfo.userName))])]),r("a-form-model-item",{attrs:{"has-feedback":"",label:"性别"}},[r("span",[e._v(e._s(e.userInfo.sex))])]),r("a-form-item",{attrs:{label:"昵称"}},[r("span",[e._v(e._s(e.userInfo.nickName))])]),r("a-form-item",{attrs:{label:"角色",required:!1}},e._l(e.roleNames,(function(t,o){return r("a-tag",{key:o},[e._v(" "+e._s(t)+" ")])})),1),r("a-form-item",{attrs:{label:"创建时间",required:!1}},[r("span",[e._v(e._s(e.createDate))])]),r("a-form-item",[r("a-button",{attrs:{type:"primary"},on:{click:function(t){e.isShow=!e.isShow}}},[e._v("编辑")])],1)],1)],1),r("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[r("div",{staticClass:"ant-upload-preview"},[r("img",{attrs:{src:e.option.img}})])])],1)],1):r("div",{staticClass:"account-settings-info-view"},[r("a-row",{attrs:{gutter:16}},[r("a-col",{attrs:{md:24,lg:16}},[r("a-form",{attrs:{layout:"vertical"}},[r("a-form-model-item",{attrs:{"has-feedback":"",label:"性别"}},[r("a-radio-group",{model:{value:e.userInfo.sex,callback:function(t){e.$set(e.userInfo,"sex",t)},expression:"userInfo.sex"}},[r("a-radio",{attrs:{value:"男"}},[e._v(" 男 ")]),r("a-radio",{attrs:{value:"女"}},[e._v(" 女 ")])],1)],1),r("a-form-item",{attrs:{label:"昵称"}},[r("a-input",{attrs:{placeholder:"给自己起个名字"},model:{value:e.userInfo.nickName,callback:function(t){e.$set(e.userInfo,"nickName",t)},expression:"userInfo.nickName"}})],1),r("a-form-item",[r("a-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("提交")]),r("a-button",{staticStyle:{"margin-left":"8px"},on:{click:e.closeEdit}},[e._v("取消")])],1)],1)],1),r("a-col",{style:{minHeight:"180px"},attrs:{md:24,lg:8}},[r("div",{staticClass:"ant-upload-preview",on:{click:function(t){return e.$refs.modal.edit(1,e.option.img)}}},[r("a-icon",{staticClass:"upload-icon",attrs:{type:"cloud-upload-o"}}),r("div",{staticClass:"mask"},[r("a-icon",{attrs:{type:"plus"}})],1),r("img",{attrs:{src:e.option.img}})],1)])],1),r("avatar-modal",{ref:"modal",on:{ok:e.setavatar}})],1)},n=[],a=(r("4160"),r("d81d"),r("d3b7"),r("ac1f"),r("25f0"),r("1276"),r("159b"),r("53ca")),s=(r("96cf"),r("1da1")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-modal",{attrs:{title:"修改头像",visible:e.visible,maskClosable:!1,confirmLoading:e.confirmLoading,width:800,footer:null},on:{cancel:e.cancelHandel}},[r("a-row",[r("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[r("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox,mode:e.options.mode},on:{realTime:e.realTime}})],1),r("a-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[r("div",{class:1==e.id?"avatar-upload-radius avatar-upload-preview":"avatar-upload-preview"},[r("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),r("br"),r("a-row",[r("a-col",{attrs:{lg:2,md:2}},[r("a-upload",{attrs:{name:"file",beforeUpload:e.beforeUpload,showUploadList:!1}},[r("a-button",{attrs:{icon:"upload"}},[e._v("选择图片")])],1)],1),r("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[r("a-button",{attrs:{icon:"plus"},on:{click:function(t){return e.changeScale(1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"minus"},on:{click:function(t){return e.changeScale(-1)}}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"undo"},on:{click:e.rotateLeft}})],1),r("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[r("a-button",{attrs:{icon:"redo"},on:{click:e.rotateRight}})],1),r("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[r("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.finish("blob")}}},[e._v("保存")])],1)],1)],1)},i=[],d=(r("3ca3"),r("ddb0"),r("2b3d"),r("8593")),c={name:"userModal",data:function(){return{visible:!1,id:null,confirmLoading:!1,fileList:[],uploading:!1,options:{img:this.$store.getters.userInfo.userInfo.photoSrc,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,mode:"contain"},previews:{}}},methods:{edit:function(e,t){this.visible=!0,this.id=e,this.options.img=t},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(e){var t=this,r=new FileReader;return r.readAsDataURL(e),r.onload=function(){t.options.img=r.result},!1},finish:function(e){var t=this,r=this,o=new FormData;"blob"===e?this.$refs.cropper.getCropBlob((function(e){var n=window.URL.createObjectURL(e);t.model=!0,t.modelSrc=n;var a=new File([e],"image.jpeg");return o.append("files",a),o.append("type",1),Object(d["getUploadImgUrl"])(o).then((function(e){r.$message.success("上传成功"),r.$emit("ok",e.data[0]),r.visible=!1,t.cropper_show=!1}))})):this.$refs.cropper.getCropData((function(e){t.model=!0,t.modelSrc=e}))},okHandel:function(){var e=this;e.confirmLoading=!0,setTimeout((function(){e.confirmLoading=!1,e.close(),e.$message.success("上传头像成功")}),2e3)},realTime:function(e){this.previews=e}}},p=c,f=(r("8ded2"),r("2877")),l=Object(f["a"])(p,u,i,!1,null,"2f8a95a2",null),m=l.exports,g=r("5723"),h={name:"aaa",components:{AvatarModal:m},data:function(){return{userId:"",userInfo:{},isShow:!0,oldImg:"",createDate:"",roleNames:[],option:{img:this.$store.getters.userInfo.userInfo.photoSrc,info:!0,size:1,outputType:"jpeg",canScale:!1,autoCrop:!0,autoCropWidth:180,autoCropHeight:180,fixedBox:!0,fixed:!0,fixedNumber:[1,1]}}},created:function(){var e=this;return this.getInfo(),this.createDate=this.$renderTime(this.userInfo.createDate).substr(0,10),Object(g["a"])().then((function(t){var r=e.userInfo.roleList.split(",").map((function(e){return e-0}));r.forEach((function(r){t.data.forEach((function(t){r==t.roleId&&e.roleNames.push(t.roleName)}))}))}))},methods:{setavatar:function(e){this.option.img=e},getInfo:function(){this.userInfo=this.deepClone(this.$store.getters.userInfo.userInfo),this.oldImg=this.userInfo.photoSrc},handleSubmit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.userInfo["oldImg"]=e.oldImg,e.userInfo["type"]=1,e.userInfo.photoSrc=e.option.img,t.next=5,Object(g["b"])(e.userInfo).then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(delete e.userInfo["oldImg"],"2000"!=r.state){t.next=9;break}return t.next=4,e.$store.dispatch("GetInfo");case 4:e.getInfo(),e.isShow=!e.isShow,e.$message.success(r.message),t.next=10;break;case 9:e.$message.success(r.message);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},closeEdit:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getInfo();case 2:e.option.img=e.userInfo.photoSrc,e.isShow=!e.isShow;case 4:case"end":return t.stop()}}),t)})))()},deepClone:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=e.constructor===Array?[]:{};for(var r in e)e.hasOwnProperty(r)&&(e[r]&&"object"===Object(a["a"])(e[r])?(t[r]=e[r].constructor===Array?[]:{},t[r]=deepClone(e[r])):t[r]=e[r]);return t}))}},b=h,y=(r("c4fc"),Object(f["a"])(b,o,n,!1,null,"5afd1ebc",null));t["default"]=y.exports},"53ca":function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r("a4d3"),r("e01a"),r("d28b"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}},5723:function(e,t,r){"use strict";r.d(t,"a",(function(){return a})),r.d(t,"b",(function(){return s}));var o=r("b775"),n={getUserBaseInfo:"/users/getUserInfo",updateUserInfo:"/users/updateUserInfo",getRole:"/system/getRole"};function a(e){return Object(o["b"])({url:n.getRole,method:"get",params:e})}function s(e){return Object(o["b"])({url:n.updateUserInfo,method:"post",params:e})}},"7f2d":function(e,t,r){},8593:function(e,t,r){"use strict";r.d(t,"h",(function(){return a})),r.d(t,"c",(function(){return s})),r.d(t,"g",(function(){return u})),r.d(t,"k",(function(){return i})),r.d(t,"i",(function(){return d})),r.d(t,"j",(function(){return c})),r.d(t,"d",(function(){return p})),r.d(t,"p",(function(){return f})),r.d(t,"K",(function(){return l})),r.d(t,"E",(function(){return m})),r.d(t,"F",(function(){return g})),r.d(t,"Q",(function(){return h})),r.d(t,"A",(function(){return b})),r.d(t,"u",(function(){return y})),r.d(t,"v",(function(){return S})),r.d(t,"e",(function(){return v})),r.d(t,"t",(function(){return O})),r.d(t,"s",(function(){return w})),r.d(t,"B",(function(){return I})),r.d(t,"G",(function(){return j})),r.d(t,"m",(function(){return R})),r.d(t,"y",(function(){return C})),r.d(t,"z",(function(){return U})),r.d(t,"T",(function(){return L})),r.d(t,"x",(function(){return P})),r.d(t,"l",(function(){return N})),r.d(t,"f",(function(){return x})),r.d(t,"U",(function(){return k})),r.d(t,"q",(function(){return B})),r.d(t,"M",(function(){return q})),r.d(t,"S",(function(){return _})),r.d(t,"H",(function(){return z})),r.d(t,"N",(function(){return A})),r.d(t,"P",(function(){return $})),r.d(t,"L",(function(){return F})),r.d(t,"C",(function(){return E})),r.d(t,"I",(function(){return T})),r.d(t,"b",(function(){return D})),r.d(t,"V",(function(){return H})),r.d(t,"w",(function(){return W})),r.d(t,"R",(function(){return M})),r.d(t,"o",(function(){return Q})),r.d(t,"J",(function(){return G})),r.d(t,"a",(function(){return J})),r.d(t,"n",(function(){return K})),r.d(t,"r",(function(){return V})),r.d(t,"D",(function(){return X}));var o=r("b775"),n={usersFindPage:"/system/usersFindPage",getUserListByCompanyId:"/company/getUserListByCompanyId",upDateUser:"/sys/user/updateUser",deleteUser:"/system/deleteUser",roleFindPage:"/system/roleFindPage",updateRoleInfo:"/sys/role/updateRole",addRole:"/sys/role/save",deleteRole:"/sys/role/removeRole",routesFindPage:"/sys/route/queryRouteList",updateRouteInfo:"/sys/route/updateRoute",addRoute:"/sys/route/addRoute",deleteRoute:"/sys/route/removeRoute",removePower:"/sys/power/removePower",powersFindPage:"/sys/power/queryPowerList",updatePowerInfo:"/sys/power/updatePower",addPower:"/sys/power/addPower",deletePower:"/system/deletePower",getRole:"/system/getRole",getRoute:"/sys/route/queryRouteTree",getPower:"/sys/power/queryPowerTree",companyFindPage:"/company/companyFindPage",getShopListPage:"/sys/store/queryStore",getUserListPage:"/sys/user/queryUserList",addUser:"/sys/user/save",getSysRoleListPage:"/sys/role/queryRoleList",upload:"/UploadPictures/upload",getRoleTypeList:"/sys/role/queryRoleNameList",removeUser:"/sys/user/removeUser",getCardListPage:"/shop/findByCards",getfindByCardList:"/shop/findByCardList",addCard:"/shop/GenerateCard",getSwperListPage:"/sys/staticInfo/queryList",addSwiper:"/sys/staticInfo/uploadStaticInfo",updateStatus:"/sys/staticInfo/updateStatus",editSwiper:"/sys/staticInfo/updateStaticInfo",delSwiper:"/sys/staticInfo/removeImg",addShop:"/sys/staticInfo/",editMenuStatus:"/sys/route/updateStatus",getUserArray:"/sys/user/getUserNameOnPhone",getBatchNoList:"/shop/queryBn",getFindByOrderListPage:"/common/OmsOrder/findByOrderByStatus",updateOrderStatus:"/common/OmsOrder/updateStatus",getNoticeListPage:"/sys/announcement/findByAnnouncements",getNoticeInfoById:"/sys/announcement/findOneById",editNotice:"/sys/announcement/SaveOrUpdateAnnouncement",getRefundListPage:"/sys/refundInfo/queryRefundList",getOrderInfoById:"/common/OmsOrder/queryOrder",getByOrderSn:"/common/OmsOrder/queryByOrderSn",getBankListPage:"/sys/AdministratorReview/findByUserInfos",getMoneyListPage:"/sys/AdministratorReview/findByWithdraw",getRateListPage:"/sys/rate/queryList",addRate:"/sys/rate/addRate",updateRate:"/sys/rate/updateRate",editRateStatus:"/sys/rate/updateStatus",removeEateById:"/sys/rate/removeById",editUserStatus:"/sys/user/updateStatus",updateByCode:"/shop/updateByCode",updateCrodFlag:"shop/updateFlag",updateAgent:"/shop/updateAgent",checkRefund:"/sys/refundInfo/checkRefund",getCommodityList:"/sys/commodity/queryList",putWithdrawalAdopt:"/sys/AdministratorReview/WithdrawApproved",putWithdrawalNotAdopt:"/sys/AdministratorReview/WithdrawAuditFailed",getCardListByUserCOde:"/sys/user/queryInfoByUserCode",getOrderExcel:"/common/OmsOrder/findOrderExcel",getQrImg:"/shop/queryShopCardEwm",putOderState:"/api/wechatpay/wechatpay_callback_shsd",getAgentUser:"/agentUp/queryAgentUser",getAgentUserOrder:"/agentUp/queryAgentUserOrder",getSchoolPage:"/sys/querySchoolsAndClass",addSchool:"/sys/addSchool",updateSchool:"/sys/updateSchoolName",deteleSchool:"/sys/deteleSchool",addSchoolClass:"/sys/addSchoolClass",deteleSchoolClass:"/sys/deteleSchoolClass",getQueryContactUs:"/sys/queryContactUs",addOrUpdateContactUs:"/sys/addOrUpdateContactUs",deteleContactUs:"/sys/deteleContactUs",getQueryInform:"/sysinform/queryInform",addInform:"/sysinform/addInform",deteleInform:"/sysinform/deteleInform"};function a(e){return Object(o["b"])({url:n.deteleInform,method:"post",data:e})}function s(e){return Object(o["b"])({url:n.addInform,method:"post",data:e})}function u(e){return Object(o["b"])({url:n.deteleContactUs,method:"post",data:e})}function i(e){return Object(o["b"])({url:n.addOrUpdateContactUs,method:"post",data:e})}function d(e){return Object(o["b"])({url:n.deteleSchool,method:"post",data:e})}function c(e){return Object(o["b"])({url:n.deteleSchoolClass,method:"post",data:e})}function p(e){return Object(o["b"])({url:n.addSchoolClass,method:"post",data:e})}function f(e,t){return Object(o["b"])({url:0==e?n.addSchool:n.updateSchool,method:"post",data:t})}function l(e,t){return Object(o["b"])({url:n.getSchoolPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function m(e,t){return Object(o["b"])({url:n.getQueryContactUs,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function g(e,t){return Object(o["b"])({url:n.getQueryInform,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function h(e){return Object(o["b"])({url:n.putOderState,method:"get",params:e})}function b(e){return Object(o["b"])({url:n.getOrderExcel,method:"post",data:e})}function y(e){return Object(o["b"])({url:n.getCardListByUserCOde,method:"get",params:e})}function S(e){return Object(o["b"])({url:n.getCommodityList,method:"get",params:e})}function v(e){return Object(o["b"])({url:n.checkRefund,method:"get",params:e})}function O(e){return Object(o["b"])({url:n.getByOrderSn,method:"get",params:e})}function w(e){return Object(o["b"])({url:n.editUserStatus,method:"post",params:e})}function I(e){return Object(o["b"])({url:n.getOrderInfoById,method:"get",params:e})}function j(e,t){return Object(o["b"])({url:n.getRefundListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function R(e){return Object(o["b"])({url:n.editNotice,method:"post",data:e})}function C(e){return Object(o["b"])({url:n.getNoticeInfoById,method:"get",params:e})}function U(e,t){return Object(o["b"])({url:n.getNoticeListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function L(e){return Object(o["b"])({url:n.updateOrderStatus,method:"get",params:e})}function P(e,t){return Object(o["b"])({url:n.getFindByOrderListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function N(e){return Object(o["b"])({url:n.editMenuStatus,method:"post",params:e})}function x(e){return Object(o["b"])({url:n.delSwiper,method:"post",params:e})}function k(e){return Object(o["b"])({url:n.updateStatus,method:"post",params:e})}function B(e,t){return Object(o["b"])({url:0==e?n.addSwiper:n.editSwiper,method:"post",data:t})}function q(e,t){return Object(o["b"])({url:n.getSwperListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function _(e){return Object(o["b"])({url:n.removeUser,method:"post",params:e})}function z(e,t){return Object(o["b"])({url:n.getRoleTypeList,method:"post",data:t})}function A(e,t){return Object(o["b"])({url:n.getSysRoleListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function $(e,t){return Object(o["b"])({url:n.getUserListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function F(e,t){return Object(o["b"])({url:n.getShopListPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function E(){return Object(o["b"])({url:n.getPower,method:"post"})}function T(e){return Object(o["b"])({url:n.getRoute,method:"post",params:e})}function D(e,t){return Object(o["b"])({url:e?n.updatePowerInfo:n.addPower,method:"post",data:t})}function H(e){return Object(o["b"])({url:n.upload,method:"post",params:{},data:e})}function W(e){return Object(o["b"])({url:n.deleteRoute,method:"post",params:e})}function M(e){return Object(o["b"])({url:n.removePower,method:"post",params:e})}function Q(e,t){return Object(o["b"])({url:e?n.updateRouteInfo:n.addRoute,method:"post",data:t})}function G(e,t){return Object(o["b"])({url:n.routesFindPage,method:"post",params:t,data:{pageNum:e.pageNo,pageSize:e.pageSize}})}function J(e){return Object(o["b"])({url:n.deleteRole,method:"post",params:e})}function K(e,t){return Object(o["b"])({url:e?n.updateRoleInfo:n.addRole,method:"post",data:t})}function V(e,t){return Object(o["b"])({url:0==e?n.addUser:n.upDateUser,method:"post",data:t})}function X(e){return Object(o["b"])({url:n.powersFindPage,method:"post",params:e})}},"8ded2":function(e,t,r){"use strict";var o=r("7f2d"),n=r.n(o);n.a},c4fc:function(e,t,r){"use strict";var o=r("d610"),n=r.n(o);n.a},d610:function(e,t,r){}}]);