(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2eb552cd"],{"0106":function(t,e,a){},2423:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var i=a("b775"),n={getArticleByBatchId:"/article/getArticleByBatchId",addArticle:"/article/addArticle",articleList:"/article/articleFindPage",deleteArticleList:"/article/deleteArticle",uploadFiles:"/gallery/upload",getArticleType:"/article/getArticleType",updateAdopt:"/article/updateAdopt",updateInfo:"/article/updateInfo"};function o(t){return Object(i["b"])({url:n.uploadFiles,method:"post",params:{},data:t})}},2909:function(t,e,a){"use strict";a.d(e,"a",(function(){return s}));var i=a("6b75");function n(t){if(Array.isArray(t))return Object(i["a"])(t)}a("a4d3"),a("e01a"),a("d28b"),a("a630"),a("e260"),a("d3b7"),a("3ca3"),a("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var r=a("06c5");function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t){return n(t)||o(t)||Object(r["a"])(t)||c()}},"70b6":function(t,e,a){},a645:function(t,e,a){"use strict";var i=a("0106"),n=a.n(i);n.a},a9a6:function(t,e,a){"use strict";var i=a("70b6"),n=a.n(i);n.a},fac3:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-row",{attrs:{type:"flex",justify:"start"}},[a("a-col",{attrs:{span:16}},[a("div",{staticClass:"article_f"},[a("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{content:t.contents,options:t.editorOptions},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),a("a-col",{attrs:{span:8}},[a("div",{ref:"myTitleEditor",staticClass:"article_s"},[a("div",{staticClass:"article_box"},[a("label",[t._v(" 公司名称: ")]),a("a-input",{attrs:{placeholder:"请写一个标题吧"},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}})],1)])])],1),a("div",{staticClass:"save_btn"},[a("a-button",{attrs:{type:"primary"},on:{click:t.onEditorChange}},[t._v("提交")])],1)],1)},n=[],o=(a("a4d3"),a("e01a"),a("4de4"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("d3b7"),a("6062"),a("2532"),a("3ca3"),a("ddb0"),a("96cf"),a("1da1")),r=a("2909"),c=a("ade3"),s=(a("98a7"),a("7bec")),l=(a("a753"),a("8096"),a("14e1"),a("953d")),d=a("5dde"),p=a("5a9d"),u=a("fcac"),f=a("d8ad"),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-modal",{attrs:{title:"上传封面",visible:t.visible,maskClosable:!1,confirmLoading:t.confirmLoading,width:1e3,footer:null},on:{cancel:t.cancelHandel}},[a("a-row",[a("a-col",{style:{width:"450px",height:"350px"},attrs:{xs:24,md:12}},[a("vue-cropper",{directives:[{name:"show",rawName:"v-show",value:t.cropper_show,expression:"cropper_show"}],ref:"cropper",attrs:{img:t.options.img,info:!0,autoCrop:t.options.autoCrop,autoCropWidth:t.options.autoCropWidth,autoCropHeight:t.options.autoCropHeight,fixedBox:t.options.fixedBox,canScale:t.options.canScale,fixed:t.options.fixed,fixedNumber:t.options.fixedNumber,centerBox:t.options.centerBox,canMoveBox:t.options.canMoveBox,canMove:t.options.canMove,full:t.options.full},on:{realTime:t.realTime}})],1),a("a-col",{style:{height:"400px"},attrs:{xs:24,md:12}},[a("div",{staticClass:"avatar-upload-preview"},[a("img",{style:t.previews.img,attrs:{src:t.previews.url},on:{click:t.editCropper}})])])],1),a("br"),a("a-row",[a("a-col",{attrs:{lg:2,md:2}},[a("a-upload",{attrs:{name:"file",beforeUpload:t.beforeUpload,showUploadList:!1,data:{type:4}}},[a("a-button",{attrs:{icon:"upload"}},[t._v("选择图片")])],1)],1),a("a-col",{attrs:{lg:{span:1,offset:2},md:2}},[a("a-button",{attrs:{icon:"plus"},on:{click:function(e){return t.changeScale(1)}}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"minus"},on:{click:function(e){return t.changeScale(-1)}}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"undo"},on:{click:t.rotateLeft}})],1),a("a-col",{attrs:{lg:{span:1,offset:1},md:2}},[a("a-button",{attrs:{icon:"redo"},on:{click:t.rotateRight}})],1),a("a-col",{attrs:{lg:{span:2,offset:6},md:2}},[a("a-button",{attrs:{type:"primary"},on:{click:function(e){return t.finish("blob")}}},[t._v("保存")])],1)],1)],1)},h=[],b=(a("2b3d"),a("2423")),g={data:function(){return{cropper_show:!1,visible:!1,id:null,confirmLoading:!1,uploading:!1,options:{img:"",autoCrop:!0,autoCropWidth:400,autoCropHeight:300,fixedBox:!1,fixed:!0,fixedNumber:[4,3],canScale:!0,centerBox:!0,canMoveBox:!1,canMove:!0,full:!0},previews:{},previewVisible:!1,cover:""}},props:["msg"],methods:{edit:function(t){this.visible=!0,this.id=t},close:function(){this.id=null,this.visible=!1},cancelHandel:function(){this.close()},changeScale:function(t){t=t||1,this.$refs.cropper.changeScale(t)},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},beforeUpload:function(t){this.cropper_show=!0;var e=new FileReader,a=this;return e.readAsDataURL(t),e.onload=function(){a.options.img=e.result},a.options.img&&(a.options.img=""),!1},finish:function(t){var e=this,a=this,i=new FormData;"blob"===t&&this.$refs.cropper.getCropBlob((function(t){var n=window.URL.createObjectURL(t);e.model=!0,e.modelSrc=n;var o=new File([t],"image.jpeg");return i.append("files",o),i.append("type",4),Object(b["a"])(i).then((function(t){a.$message.success("上传成功"),a.$emit("ok",t.data[0]),a.visible=!1,e.cropper_show=!1}))}))},realTime:function(t){this.previews=t},editCropper:function(){this.cropper_show=!0}},beforeUpdate:function(){this.cropper_show=this.msg}},v=g,y=(a("a9a6"),a("2877")),w=Object(y["a"])(v,m,h,!1,null,"a69c29a2",null),C=w.exports;l["Quill"].register("modules/ImageExtend",d["a"]);var I=s["a"].SHOW_ALL;function x(t,e){var a=new FileReader;a.addEventListener("load",(function(){return e(a.result)})),a.readAsDataURL(t)}var O={components:{quillEditor:l["quillEditor"],AvatarModal:C},data:function(){var t;return t={cropper_show:!0,articleState:"0",contents:"",state:"新增",visible:!1,loading:!0,content:"",articleTitle:"",description:"",articleTypeId:0,oldImg:[],userId:""},Object(c["a"])(t,"visible",!1),Object(c["a"])(t,"editorOptions",p["a"]),Object(c["a"])(t,"previewVisible",!1),Object(c["a"])(t,"previewImage",""),Object(c["a"])(t,"fileList",[]),Object(c["a"])(t,"articleTypeData",[]),Object(c["a"])(t,"SHOW_PARENT",I),Object(c["a"])(t,"articleTypeValue",[]),Object(c["a"])(t,"articleForm",{articleTitle:"",articleTypeId:"",description:"",cover:"",img:[],oldImg:[],adopt:"1",userId:"",articleTypeList:"",type:"4"}),Object(c["a"])(t,"preview",""),t},methods:{unique:function(t){for(var e=0;e<t.length;e++)for(var a=e+1;a<t.length;a++)t[e]==t[a]&&(t.splice(a,1),a--);return t},MergeArray:function(t,e){for(var a=new Array,i=0;i<t.length;i++)a.push(t[i]);for(i=0;i<e.length;i++){for(var n=!0,o=0;o<t.length;o++)if(e[i]==t[o]){n=!1;break}n&&a.push(e[i])}return a},onEditorChange:function(){for(var t=this,e=document.getElementsByClassName("ql-editor")[0],a=e.getElementsByTagName("img"),i=[],n=0;n<a.length;n++)i.push(a[n].src.slice(0));for(var o=[],c=0;c<i.length;c++)-1==o.indexOf(i[c])&&o.push(i[c]);i=o;var s=Object(r["a"])(new Set(this.oldImg[0])).filter((function(t){return i.includes(t)}));this.img=this.MergeArray(i,s),this.img.push(this.preview),this.articleForm.articleTitle=this.articleTitle,1==this.articleState&&(this.articleForm.batchId=this.batchId);var l='<div id="content">'+this.content+"</div>",d={html:l};return l.length>6535?(this.$message.warning("文章长度过长，请修改一下！"),!1):""==this.articleTitle||null==this.articleTitle?(this.$message.error("文章标题不能为空！"),!1):this.articleTitle.length>=30?(this.$message.error("文章标题不能超过30字！"),!1):Object(u["b"])({content:d.html,id:1==this.articleState?this.articleForm.batchId:"",title:this.articleForm.articleTitle}).then((function(e){200==e.code?(t.$message.info("文章发表成功！"),t.content="",t.articleTitle="",t.description="",t.preview="",window.location.reload()):t.$message.warning("文章发表失败！")}))},showModal:function(){this.visible=!0},handleCancel:function(){this.previewVisible=!1},handlePreview:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(t.url||t.preview){a.next=4;break}return a.next=3,x(t.originFileObj);case 3:t.preview=a.sent;case 4:e.previewImage=t.url||t.preview,e.previewVisible=!0;case 6:case"end":return a.stop()}}),a)})))()},setavatar:function(t){this.preview=t},editCropper:function(){this.cropper_show=!0}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}},mounted:function(){var t=this;this.$emit("childByValue",this.state),f["a"].$on("bid",(function(e){t.contents=e[0].content,t.articleTitle=e[0].title,t.batchId=e[0].id,t.articleState=e[1],t.oldImg.push(e[2])}))}},j=O,T=(a("a645"),Object(y["a"])(j,i,n,!1,null,null,null));e["default"]=T.exports},fcac:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"d",(function(){return r})),a.d(e,"e",(function(){return c})),a.d(e,"a",(function(){return s})),a.d(e,"c",(function(){return l}));var i=a("b775"),n={addCompany:"/company/addCompany",companyFindPage:"/company/companyFindPage",getCompanyListByUserId:"/company/getCompanyListByUserId",upDateCompany:"/company/updateCompany",deleteCompany:"/company/deleteCompany",filesCompany:"/gallery/upload",stateCompany:"/company/updateAdopt",typeCompany:"/company/getCompanyType",getCompanyIntroductionListPage:"/sys/CompanyIntroduction/findByCompanyIntroduction",editCompanyIntroduction:"/sys/CompanyIntroduction/SaveOrUpdateCompanyIntroduction",getCompanyIntroductionInfoById:"/sys/CompanyIntroduction/findOneById"};function o(t){return Object(i["b"])({url:n.editCompanyIntroduction,method:"post",data:t})}function r(t){return Object(i["b"])({url:n.getCompanyIntroductionInfoById,method:"get",params:t})}function c(t,e){return Object(i["b"])({url:n.getCompanyIntroductionListPage,method:"post",params:e,data:{pageNum:t.pageNo,pageSize:t.pageSize}})}function s(t){return Object(i["b"])({url:n.deleteCompany,method:"post",params:t})}function l(t){return Object(i["b"])({url:n.filesCompany,method:"post",params:{},data:t})}}}]);